<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./assets/css/style.css">
    <!-- Íconos de Font Awesome (versión 6 beta 3): permite usar íconos como <i class="fas fa-phone"></i> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
<header>
  <nav class="nav">
    <input type="checkbox" id="menu-toggle" class="menu-toggle" />
    <label for="menu-toggle" class="hamburger">&#9776;</label>

    <ul class="nav-left">
      <li><a href="./index.html">Inicio</a></li>
      <li><a href="./pages/otros-productos.html"> Otros Productos</a></li>
    </ul>

    <div class="logo-container">
      <img src="./assets/img/logo.png" alt="Logo MAG Naturales" class="logo" />
    </div>

    <ul class="nav-right">
      <li><a href="#">Nosotros</a></li>
      <li><a href="#">Contacto</a></li>
    </ul>

    <div class="carrito">
      <a href="./pages/carrito.html">
        <i class="fa-solid fa-cart-shopping"></i>
        <span class="contador-carrito">0</span>
      </a>
    </div>

    <!-- Menú mobile -->
    <ul class="nav-mobile-menu">
      <li><a href="./index.html">Inicio</a></li>
      <li><a href="#">Productos</a></li>
      <li><a href="#">Nosotros</a></li>
      <li><a href="#">Contacto</a></li>
    </ul>
  </nav>
</header>

  <main >
    <div class="titulo-categoria">

      <h2>Frutos Secos</h2>
    </div>

    <div class="product-grid">
      <!--frutos secos-->
      <div class="product-card">
        <img src="./assets/img/nuez.jpg" alt="nuez">
        <h3>Nuez partida extralight</h3>
        <p>$1300/ 100gr</p>
        <div class="controls">
          <button onclick="updateQty(this, -100)">-</button>
          <span class="qty">100</span> gr
          <button onclick="updateQty(this, 100)">+</button>
        </div>
        <button
          class="btn-añadir" 
          data-nombre="nuezpartidaextralight"
          data-precio="1300"
          data-cantidad="100"
        >
          Añadir a la cesta
        </button>
      </div>

    
      <!-- Repetí más product-card según tus productos -->
      <div class="product-card">
        <img src="./assets/img/almendra.jpg" alt="almendra">
        <h3>Almendra Guara partida</h3>
        <p>$1300/ 100gr</p>
        <div class="controls">
          <button onclick="updateQty(this, -100)">-</button>
          <span class="qty">100</span> gr
          <button onclick="updateQty(this, 100)">+</button>
        </div>
        <button
          class="btn-añadir" 
          data-nombre="almendraguarapartida"
          data-precio="1300"
          data-cantidad="100"
        >
          Añadir a la cesta
        </button>
      </div>

      <div class="product-card">
        <img src="./assets/img/pasas negras.jpg" alt="Pasas Negras">
        <h3>Pasas Negras Flame</h3>
        <p>$1300/ 100gr</p>
        <div class="controls">
          <button onclick="updateQty(this, -100)">-</button>
          <span class="qty">100</span> gr
          <button onclick="updateQty(this, 100)">+</button>
        </div>
        <button
          class="btn-añadir" 
          data-nombre="pasasnegrasflame"
          data-precio="1300"
          data-cantidad="100"
        >
          Añadir a la cesta
        </button>
      </div>

      <div class="product-card">
        <img src="./assets/img/castaña de caju.jpg" alt="Castaña">
        <h3>Castaña de Caju</h3>
        <p>$1300/ 100gr</p>
        <div class="controls">
          <button onclick="updateQty(this, -100)">-</button>
          <span class="qty">100</span> gr
          <button onclick="updateQty(this, 100)">+</button>
        </div>
        <button
          class="btn-añadir" 
          data-nombre="castañadecaju"
          data-precio="1300"
          data-cantidad="100"
        >
          Añadir a la cesta
        </button>
      </div>

      <div class="product-card">
        <img src="./assets/img/mix-clasico.jpg" alt="Mani sin Sal">
        <h3>Mix Clasico</h3>
        <h4>(almendra,nuez, mani sin sal,<br> pasas negras)</h4>
        <p>$1300/ 100gr</p>
        <div class="controls">
          <button onclick="updateQty(this, -100)">-</button>
          <span class="qty">100</span> gr
          <button onclick="updateQty(this, 100)">+</button>
        </div>
        <button
          class="btn-añadir" 
          data-nombre="mixclasico"
          data-precio="1300"
          data-cantidad="100"
        >
          Añadir a la cesta
        </button>
      </div>

      <div class="product-card">
        <img src="./assets/img/mix-energetico.png" alt="Mix Cervezero">
        <h3>Mix Energetico</h3>
        <h4>(almendra,nuez, mani sin sal,<br> pasas negras, castañas de caju)</h4>
        <p>$1300/ 100gr</p>
        <div class="controls">
          <button onclick="updateQty(this, -100)">-</button>
          <span class="qty">100</span> gr
          <button onclick="updateQty(this, 100)">+</button>
        </div>
        <button
          class="btn-añadir" 
          data-nombre="mixenergetico"
          data-precio="1300"
          data-cantidad="100"
        >
          Añadir a la cesta
        </button>
      </div>

      <div class="product-card">
        <img src="./assets/img/MIX-CERVECERO.jpg" alt="Mix Cervezero">
        <h3>Mix Cervezero</h3>
        <h4>(Maiz Frito sabor queso y barbacoa, Maní Frito, pistacho, mani saborizado, pasas negras y rubias) </h4>
        <p>$1300/ 100gr</p>
        <div class="controls">
          <button onclick="updateQty(this, -100)">-</button>
          <span class="qty">100</span> gr
          <button onclick="updateQty(this, 100)">+</button>
        </div>
        <button
          class="btn-añadir" 
          data-nombre="mixcervezero"
          data-precio="1300"
          data-cantidad="100"
        >
          Añadir a la cesta
        </button>
      </div>

      <div class="product-card">
        <img src="./assets/img/mix-tropical.jpg" alt="Mix Tropical">
        <h3>Mix Tropical</h3>
        <h4>(mani,pasas,nuez,almendra,<br> banana, papaya,anana)</h4>
        <p>$1300/ 100gr</p>
        <div class="controls">
          <button onclick="updateQty(this, -100)">-</button>
          <span class="qty">100</span> gr
          <button onclick="updateQty(this, 100)">+</button>
        </div>
        <button
          class="btn-añadir" 
          data-nombre="mixtropica"
          data-precio="1300"
          data-cantidad="100"
        >
          Añadir a la cesta
        </button>
      </div>

      <div class="product-card">
        <img src="./assets/img/mani sin sal.png" alt="Mani sin Sal">
        <h3>Mani sin Sal </h3>
        <p>$1300/ 100gr</p>
        <div class="controls">
          <button onclick="updateQty(this, -100)">-</button>
          <span class="qty">100</span> gr
          <button onclick="updateQty(this, 100)">+</button>
        </div>
        <button
          class="btn-añadir" 
          data-nombre="manisinsal "
          data-precio="1300"
          data-cantidad="100"
        >
          Añadir a la cesta
        </button>
      </div>

      <div class="product-card">
        <img src="./assets/img/mani-consal.png" alt="Mani Pelado con Sal">
        <h3>Mani Pelado con Sal</h3>
        <p>$1300/ 100gr</p>
        <div class="controls">
          <button onclick="updateQty(this, -100)">-</button>
          <span class="qty">100</span> gr
          <button onclick="updateQty(this, 100)">+</button>
        </div>
        <button
          class="btn-añadir" 
          data-nombre="manipeladoconsal"
          data-precio="1300"
          data-cantidad="100"
        >
          Añadir a la cesta
        </button>
      </div>

      <div class="product-card">
        <img src="./assets/img/mani-saborizado.png" alt="Mani Saborizado">
        <h3>Mani Saborizado</h3>
        <p>$1300/ 100gr</p>
        <div class="controls">
          <button onclick="updateQty(this, -100)">-</button>
          <span class="qty">100</span> gr
          <button onclick="updateQty(this, 100)">+</button>
        </div>
        <button
          class="btn-añadir" 
          data-nombre="manisaborizado"
          data-precio="1300"
          data-cantidad="100"
        >
          Añadir a la cesta
        </button>
      </div>
    </div>

  <!------------->
  <!--Semillas -->
  <!------------->
  
    <div class="titulo-categoria">
      <h2>Semillas</h2>
    </div>
    

    <div class="product-grid">
      <div class="product-card">
        <img src="./assets/img/chia.png" alt="semillas de chia">
        <h3>Semillas de Chia</h3>
        <p>$1300/ 100gr</p>
        <div class="controls">
          <button onclick="updateQty(this, -100)">-</button>
          <span class="qty">100</span> gr
          <button onclick="updateQty(this, 100)">+</button>
        </div>
        <button
          class="btn-añadir" 
          data-nombre="semillasdechia"
          data-precio="1300"
          data-cantidad="100"
        >
          Añadir a la cesta
        </button>
      </div>

    
      <!-- Repetí más product-card según tus productos -->
      <div class="product-card">
        <img src="./assets/img/girasol-pelado.png" alt="Semillas de girasol">
        <h3>Girasol Pelado</h3>
        <p>$1300/ 100gr</p>
        <div class="controls">
          <button onclick="updateQty(this, -100)">-</button>
          <span class="qty">100</span> gr
          <button onclick="updateQty(this, 100)">+</button>
        </div>
        <button
          class="btn-añadir" 
          data-nombre="girasolpelado"
          data-precio="1300"
          data-cantidad="100"
        >
          Añadir a la cesta
        </button>
      </div>

      <div class="product-card">
        <img src="./assets/img/semilla-de-lino_2.png" alt="semillas de Lino" class="product-img" />
        <h3>Semillos de Lino</h3>
        <p>$1300 / 100gr</p>
        <div class="controls">
          <button onclick="updateQty(this, -100)">-</button>
          <span class="qty">100</span> gr
          <button onclick="updateQty(this, 100)">+</button>
        </div>
        <button
          class="btn-añadir" 
          data-nombre="semillosdelino"
          data-precio="1300"
          data-cantidad="100"
        >
          Añadir a la cesta
        </button>
      </div>
      

      <div class="product-card">
        <img src="./assets/img/sesamo-blanco.png" alt="Sesamo Blnaco">
        <h3>Sesamo Blanco</h3>
        <p>$1300/ 100gr</p>
        <div class="controls">
          <button onclick="updateQty(this, -100)">-</button>
          <span class="qty">100</span> gr
          <button onclick="updateQty(this, 100)">+</button>
        </div>
        <button
          class="btn-añadir" 
          data-nombre="sesamoblanco"
          data-precio="1300"
          data-cantidad="100"
        >
          Añadir a la cesta
        </button>
      </div>



      
      
    </div>
    
     <!------------->
  <!--Otras Variedades-->
  <!------------->
  
  <div class="titulo-categoria">
    <h2>Otras Variedades</h2>
  </div>
  

  <div class="product-grid">
    <div class="product-card">
      <img src="./assets/img/almohaditas-de-frutilla.jpg" alt="Almohaditas de Frutilla">
      <h3>Almohaditas de Frutilla</h3>
      <p>$1300/ 100gr</p>
      <div class="controls">
        <button onclick="updateQty(this, -100)">-</button>
        <span class="qty">100</span> gr
        <button onclick="updateQty(this, 100)">+</button>
      </div>
      <button
        class="btn-añadir" 
        data-nombre="almohaditasdefrutilla"
        data-precio="1300"
        data-cantidad="100"
      >
        Añadir a la cesta
      </button>
    </div>

  
    <!-- Repetí más product-card según tus productos -->
    <div class="product-card">
      <img src="./assets/img/azucar-mascabo.png" alt="Azucar Mascabo">
      <h3>Azucar Mascabo</h3>
      <p>$1300/ 100gr</p>
      <div class="controls">
        <button onclick="updateQty(this, -100)">-</button>
        <span class="qty">100</span> gr
        <button onclick="updateQty(this, 100)">+</button>
      </div>
      <button
        class="btn-añadir" 
        data-nombre="azucarmascabo"
        data-precio="1300"
        data-cantidad="100"
      >
        Añadir a la cesta
      </button>
    </div>

    <div class="product-card">
      <img src="./assets/img/curcuma1.png" alt="Curcuma" class="product-img" />
      <h3>Curcuma</h3>
      <p>$1300 / 100gr</p>
      <div class="controls">
        <button onclick="updateQty(this, -100)">-</button>
        <span class="qty">100</span> gr
        <button onclick="updateQty(this, 100)">+</button>
      </div>
      <button
        class="btn-añadir" 
        data-nombre="Curcuma"
        data-precio="1300"
        data-cantidad="100"
      >
        Añadir a la cesta
      </button>
    </div>
    

    <div class="product-card">
      <img src="./assets/img/TEVE.png" alt="Té Verde">
      <h3>Té Verde</h3>
      <p>$1300/ 100gr</p>
      <div class="controls">
        <button onclick="updateQty(this, -100)">-</button>
        <span class="qty">100</span> gr
        <button onclick="updateQty(this, 100)">+</button>
      </div>
      <button
        class="btn-añadir" 
        data-nombre="teverde"
        data-precio="1300"
        data-cantidad="100"
      >
        Añadir a la cesta
      </button>
    </div>

      <div class="product-card">
      <img src="./assets/img/tutucas.jpg" alt="Tutucas">
      <h3>Tutucas</h3>
      <p>$1300/ 100gr</p>
      <div class="controls">
        <button onclick="updateQty(this, -100)">-</button>
        <span class="qty">100</span> gr
        <button onclick="updateQty(this, 100)">+</button>
      </div>
      <button
        class="btn-añadir" 
        data-nombre="tutucas"
        data-precio="1300"
        data-cantidad="100"
      >
        Añadir a la cesta
      </button>
    </div>
  </main>

<script>
  // Actualiza visualmente el contador del carrito
  function actualizarContadorCarrito() {
    const contador = document.querySelector(".contador-carrito");
    const carrito = JSON.parse(localStorage.getItem("carrito")) || [];
    const totalItems = carrito.reduce((acc, item) => acc + item.cantidad, 0);
    contador.textContent = totalItems > 0 ? totalItems + "gr" : "0gr";
  }

  // Sumar o restar cantidad de un producto (mínimo 100gr)
  function updateQty(button, cambio) {
    const card = button.closest(".product-card");
    const spanQty = card.querySelector(".qty");
    let cantidad = parseInt(spanQty.textContent);
    cantidad = Math.max(100, cantidad + cambio);
    spanQty.textContent = cantidad;

    // También actualiza el data-cantidad del botón
    const btnAñadir = card.querySelector(".btn-añadir");
    btnAñadir.setAttribute("data-cantidad", cantidad);
  }

  // Añadir producto al carrito
  function añadirAlCarrito(nombre, precio, cantidad) {
    let carrito = JSON.parse(localStorage.getItem("carrito")) || [];

    const productoExistente = carrito.find(p => p.nombre === nombre);

    if (productoExistente) {
      productoExistente.cantidad += cantidad;
    } else {
      carrito.push({ nombre, precio, cantidad });
    }

    localStorage.setItem("carrito", JSON.stringify(carrito));
    actualizarContadorCarrito();
  }

  // Evento al cargar la página
  document.addEventListener("DOMContentLoaded", function () {
    actualizarContadorCarrito();

    // Botones "Añadir a la cesta"
    document.querySelectorAll(".btn-añadir").forEach(boton => {
      boton.addEventListener("click", () => {
        const card = boton.closest(".product-card");
        const nombre = boton.dataset.nombre;
        const precio = parseInt(boton.dataset.precio);
        const cantidad = parseInt(card.querySelector(".qty").textContent);

        añadirAlCarrito(nombre, precio, cantidad);
        alert(`${nombre} añadido al carrito.`);
      });
    });

    // Botón enviar por WhatsApp
    const btnEnviar = document.getElementById("btnEnviarWsp");
    if (btnEnviar) {
      btnEnviar.addEventListener("click", () => {
        const carrito = JSON.parse(localStorage.getItem("carrito")) || [];

        if (carrito.length === 0) {
          alert("El carrito está vacío.");
          return;
        }

        let mensaje = "Hola! Quiero hacer un pedido:%0A";
        let total = 0;

        carrito.forEach(item => {
          const subtotal = (item.precio * item.cantidad) / 100;
          total += subtotal;
          mensaje += `• ${item.nombre} - ${item.cantidad}gr - $${subtotal.toFixed(2)}%0A`;
        });

        mensaje += `%0ATotal: $${total.toFixed(2)}`;
        const telefono = "5492615590045"; // Cambiá por tu número
        const url = `https://wa.me/${telefono}?text=${mensaje}`;
        window.open(url, "_blank");
      });
    }
  });
</script>




</body>
</html>